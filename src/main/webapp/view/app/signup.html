
<form name="form" class="pure-form pure-form-aligned">
  <div class="pure-control-group">
    <label for="username">Email</label>
    <input class="pure-u-1-4" id="username" type="email" name="username" ng-model="user.username" required placeholder="Your email">

    <div ng-show="form.username.$dirty && form.username.$invalid">
      <small ng-show="form.username.$error.required" class="error">Tell us your username</small>
    </div>
  </div>

  <div class="pure-control-group">
    <label class="right inline">Password:</label>
    <input class="pure-u-1-4" type="password" name="password" ng-model="user.password" required placeholder="Your password">

    <div ng-show="form.password.$dirty && form.password.$invalid">
      <small ng-show="form.password.$error.required" class="error">Tell us your password</small>
      <small ng-show="form.password.$error.password" class="error">This is not a valid password</small>
    </div>
  </div>

  <div class="pure-control-group">
    <label class="right inline">Confirm Password:</label>
    <input class="pure-u-1-4" type="password" name="confirm-password" ng-model="user.confirm_password" required placeholder="Confirm password">

    <div ng-show="form.password.$dirty && form.password.$invalid">
      <small ng-show="form.password.$error.required" class="error">Tell us your password</small>
      <small ng-show="form.password.$error.password" class="error">This is not a valid password</small>
    </div>
  </div>

  <div class="pure-control-group">
    <label class="right inline">Captcha:</label>
    <input class="pure-u-1-4" type="text" name="captcha" ng-model="captcha" required placeholder="Captcha">
    <img class="captcha" ng-src="/patchca?width=119&height=42&time={{time}}">

    <div ng-show="form.captcha.$dirty && form.captcha.$invalid">
      <small ng-show="form.captcha.$error.required" class="error">Tell us your captcha</small>
      <small ng-show="form.captcha.$error.number" class="error">This is not a valid captcha</small>
    </div>
  </div>

  <div class="pure-controls">
    <button ng-click="create(user,captcha)" ng-disabled="form.$invalid" class="pure-button pure-button-primary">Signup</button>
  </div>

</form>
